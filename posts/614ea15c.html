<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://babybluue.github.io/posts/614ea15c"><link rel="manifest" href="/manifest.webmanifest"><link rel="apple-touch-icon" sizes="192x192" href="/images/appleicon"><link rel="apple-touch-startup-image" media="(device-width: 750px) and (device-height:1334px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/launch"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="babyblue"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1f1f1f"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="color-scheme" content="light dark"><link rel="icon" href="/images/favicon.ico"><meta name="description" content="创建一个新 Date 对象的唯一方式是通过 new 操作符，若将它作为常规函数调用将返回一个字符串。 "><meta name="keywords" content="blog,博客,程序员,记录,学习,网站 "><title>JavaScript Date对象</title><link rel="stylesheet" href="/style/style.css"><link rel="stylesheet" href="/style/highlight.css" media="none" onload='this.media="all"'><link rel="stylesheet" href="/style/fancybox.css" media="none" onload='this.media="all"'><script type="text/javascript">var currentPath=window.location.pathname,targetUrl="https://didmax.pages.dev";window.location.href=targetUrl+currentPath</script><script>localStorage.theme&&document.documentElement.setAttribute("data-theme",localStorage.theme)</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TMJ0G5Z2NR"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TMJ0G5Z2NR")</script><script>document.onreadystatechange=()=>{const t=document.querySelector(".loading-bar");700<document.body.clientWidth&&(t.style.background="#91C4E2","interactive"==document.readyState&&(t.style.transition="width 1.4s ease-in-out",t.style.width="67%"),"complete"==document.readyState&&(t.style.transition="width 0.3s ease-in-out",t.style.width="100%",setTimeout(()=>{t.setAttribute("style","transition:width 0s;width:0;background:''")},500)))}</script><meta name="generator" content="Hexo 5.4.2"></head><body class="scroll-bar"><div class="loading-bar"></div><div class="progress-bar"></div><main><header><nav><ul class="nav-button"><li></li><li></li><li></li></ul><div class="nav-bar"><ul><span class="close-button">×</span><div class="nav-avatar"><a href="/" aria-label="index"><img src="/images/avatar.png" class="avatar" alt="avatar"></a></div><li><a href="/archives/">Archive</a></li><li><a href="/notes/">Notes</a></li><li><a href="/articles/">Articles</a></li><li><a href="mailto:kerrismith19786@gmail.com" rel="external nofollow noreferrer">Contact</a></li></ul></div></nav></header><div class="post-main"><article><div class="post-card"><div class="header-title">JavaScript Date对象</div><div class="header-info"><span>2021.05.17 Mon</span></div><div class="card-content"><p>创建一个新 Date 对象的唯一方式是通过 new 操作符，若将它作为常规函数调用将返回一个字符串。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> time1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(time1)<br><span class="hljs-comment">//Mon May 17 2021 13:57:48 GMT+0800 (中国标准时间)</span><br><span class="hljs-keyword">typeof</span> time1<br><span class="hljs-comment">//&quot;string&quot;</span><br><br><span class="hljs-keyword">let</span> time2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(time2)<br><span class="hljs-comment">//Mon May 17 2021 13:57:48 GMT+0800 (中国标准时间)</span><br><span class="hljs-keyword">typeof</span> time2<br><span class="hljs-comment">//&quot;object&quot;</span><br></code></pre></td></tr></table></figure><span id="more"></span><h4 id="date构造函数有四种基本形式"><a class="markdownIt-Anchor" href="#date构造函数有四种基本形式"></a> Date()构造函数有四种基本形式。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(value)<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(datestring)<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]])<br></code></pre></td></tr></table></figure><ul><li><p>没有参数<br>新创建的 Date 对象表示实例化时刻的日期和时间</p></li><li><p>value unix 时间戳<br>一个 Unix 时间戳（Unix Time Stamp），它是一个整数值，表示自 1970 年 1 月 1 日 00:00:00 UTC（the Unix epoch）以来的毫秒数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">1621231068000</span>)<br><span class="hljs-comment">//Mon May 17 2021 13:57:48 GMT+0800 (中国标准时间)</span><br></code></pre></td></tr></table></figure></li><li><p>dateString 时间戳字符串<br>dateString 表示日期的字符串值，该字符串应该可以被 Date.parse()识别。仅有日期的字符串(2021-5-17)会被处理为 UTC 而不是本地时间。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2021.5.17 13:57&#x27;</span>)<br><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2021-5-17 13:57&#x27;</span>)<br><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2021,5,17 13:57&#x27;</span>)<br><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2021/5/17 13:57&#x27;</span>)<br><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2021 5 17 13:57&#x27;</span>)<br><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;17 May 2021 13:57&#x27;</span>)<br><span class="hljs-comment">//以上不同字符串表示的结果一致 1621231020000</span><br><span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2021-5-17&#x27;</span>)<br><span class="hljs-comment">//1621180800000</span><br><span class="hljs-comment">//以上可以被Date.parse解析的日期格式都能由Date()构造函数识别</span><br></code></pre></td></tr></table></figure></li><li><p>至少两个参数<br>缺省值中，日期的默认参数为 1，时间的默认为 0<br>year 表示年份的整数值。 0 到 99 会被映射至 1900 年至 1999 年，其它值代表实际年份。<br>monthIndex 表示月份的整数值，从 0（1 月）到 11（12 月）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">99</span>, <span class="hljs-number">11</span>)<br><span class="hljs-comment">//Wed Dec 01 1999 00:00:00 GMT+0800 (中国标准时间)</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="方法"><a class="markdownIt-Anchor" href="#方法"></a> 方法</h4><ul><li>Date.now()<br>返回自 1970-1-1 00:00:00 UTC（世界标准时间）至今所经过的毫秒数。</li><li>Date.parse()<br>解析一个表示日期的字符串，并返回从 1970-1-1 00:00:00 所经过的毫秒数。</li><li>Date.UTC()</li></ul><h4 id="实例方法"><a class="markdownIt-Anchor" href="#实例方法"></a> 实例方法</h4><p>根据本地时间查询结果</p><ul><li>getDate() 返回月份中的第几天(1-31)</li><li>getDay 返回星期中的第几天(0-6) 星期日是 0</li><li>getFullYear() 返回四位数年份</li><li>getYear() 返回 2-3 位的年份</li><li>getTime() 返回从 UTC 时间到该日期经过的毫秒数</li><li>getMinutes() getHours() getSeconds() getMilliseconds()</li></ul><p>(根据 UTC 时间查询结果在前面加 UTC)</p><h4 id="转换方法"><a class="markdownIt-Anchor" href="#转换方法"></a> 转换方法</h4><ul><li><p>toString()<br>返回一个表示该日期对象的字符串</p></li><li><p>toTimeString()<br>以人类易读格式返回日期对象时间部分的字符串。</p></li><li><p>toDateString()<br>以人类易读的形式返回该日期对象日期部分的字符串。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&#x27;2021-5-17 13:57&#x27;</span>)<br>time.<span class="hljs-title function_">toString</span>()<br><span class="hljs-comment">//&quot;Mon May 17 2021 13:57:00 GMT+0800 (中国标准时间)&quot;</span><br>time.<span class="hljs-title function_">toTimeString</span>()<br><span class="hljs-comment">//&quot;13:57:00 GMT+0800 (中国标准时间)&quot;</span><br>time.<span class="hljs-title function_">toDateString</span>()<br><span class="hljs-comment">//&quot;Mon May 17 2021&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>toISOString() 　 toJSON()<br>把一个日期转换为符合 ISO 8601 扩展格式的字符串。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.<span class="hljs-title function_">toISOString</span>()<br>time.<span class="hljs-title function_">toJSON</span>()<br><span class="hljs-comment">//&quot;2021-05-17T05:57:00.000Z&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>toLocaleString()<br>返回一个表示该日期对象的字符串，该字符串与系统设置的地区关联（locality sensitive）</p></li><li><p>toLocaleDateString()<br>返回一个表示该日期对象日期部分的字符串</p></li><li><p>toLocaleTimeString()<br>返回一个表示该日期对象时间部分的字符串，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.<span class="hljs-title function_">toLocaleString</span>()<br><span class="hljs-comment">//&quot;2021/5/17下午1:57:00&quot;</span><br>time.<span class="hljs-title function_">toLocaleDateString</span>()<br><span class="hljs-comment">//&quot;2021/5/17&quot;</span><br>time.<span class="hljs-title function_">toLocaleTimeString</span>()<br><span class="hljs-comment">//&quot;下午1:57:00&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>valueOf() 返回一个日期对象的原始值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.<span class="hljs-title function_">valueOf</span>()<br>time.<span class="hljs-title function_">getTime</span>()<br><span class="hljs-comment">//1621231020000</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="应用"><a class="markdownIt-Anchor" href="#应用"></a> 应用</h4><ul><li><p>JavaScript 的时间由世界标准时间（UTC）1970 年 1 月 1 日开始，用毫秒计时，一天由 86,400,000 毫秒组成，中国时区比 utc 快八个小时，即 UTC+8，因此计算的时候要加 8 小时</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br><span class="hljs-keyword">const</span> localDate = date.<span class="hljs-title function_">getTime</span>() + <span class="hljs-number">288e5</span> <span class="hljs-comment">// 288e5 = 8 * 3600 * 1000</span><br></code></pre></td></tr></table></figure></li><li><p>ISO 时间</p><p>ISO 代表了国际通用的日期时间格式，排列顺序为 YYYY-MM-DD HH:mm:ss:SSS<br>每个日期和时间都有固定的位数，不够的位数用 0 补齐<br>ISO 格式不允许空格，T 用来间隔日期和时间，Z 表示时间为 UTC 时间，不带空格</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 获得一个标准格式日期 --&gt;<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ISO</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(localDate).<span class="hljs-title function_">toISOString</span>()<br><span class="hljs-comment">//&quot;2022-12-30T07:34:24.914Z&quot;</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(localDate).<span class="hljs-title function_">toISOString</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">19</span>)<br><span class="hljs-comment">//&quot;2022-12-30 07:34:24&quot;</span><br></code></pre></td></tr></table></figure></li></ul><hr><p>参考链接：<br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date">MDN-Date</a></p></div><div class="post-tags"><a href="/tags/JavaScript/">JavaScript</a></div></div></article><div class="post-pagination"><div class="prev-page"><a href="/posts/c4a48f8c" title="小王子摘录(英文)">小王子摘录(英文)</a></div><div class="next-page"><a href="/posts/1dcf8778" title="HTML的dataset属性 ">HTML的dataset属性</a></div></div></div><svg t="1673947892053" class="top" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9313" width="45" height="45"><path d="M535.12 442.432v210.016a16 16 0 0 1-16 16h-16.16a16 16 0 0 1-16-16V440.208l-32.88 32.864a16 16 0 0 1-11.312 4.688h-28.304a14.464 14.464 0 0 1-10.24-24.688l97.824-97.808a11.136 11.136 0 0 1 15.744 0l97.808 97.808a14.464 14.464 0 0 1-10.24 24.688h-28.288a16 16 0 0 1-11.312-4.688l-30.64-30.64zM512 800c159.056 0 288-128.944 288-288s-128.944-288-288-288-288 128.944-288 288 128.944 288 288 288z m0 48c-185.568 0-336-150.432-336-336s150.432-336 336-336 336 150.432 336 336-150.432 336-336 336z" p-id="9314"></path></svg><div class="tip disappear"><p>检测到页面内容有更新，是否刷新页面 <span class="positive-btn">是</span><span class="negative-btn">否</span></p></div></main><script src="/scripts/script.js" async></script><script async type="module">import{Fancybox}from"/scripts/fancybox.esm.js";Fancybox.bind('[data-fancybox="gallery"]',{Toolbar:{display:["fullscreen","download","close"]}})</script></body></html>